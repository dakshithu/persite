<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel | Dakshith Ullapaneni</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,600,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
      body { font-family: 'Poppins', Arial, sans-serif; }
      .login-card, .admin-container { max-width: 500px; margin: 60px auto 0; padding: 40px 30px;
          background: #fff; border-radius: 16px; box-shadow: 0 6px 32px #0002;}
      .card { max-width: 700px; margin: 30px auto; padding: 30px; }
      .form-group { margin-bottom: 20px; }
      .form-group label { display:block; font-weight:600; margin-bottom:8px; }
      .form-group input, .form-group textarea {
          width:100%; padding:10px 14px; border-radius:8px; border:1.5px solid #ddd; }
      .admin-btn, .project-btn, .logout-btn {
          background: #22d685; color:#fff; font-weight:700; border:none; border-radius:8px;
          padding:10px 22px; cursor:pointer; margin-top:8px; margin-right:8px;
          transition:background .2s; font-size:1rem;
      }
      .admin-btn:hover, .project-btn:hover, .logout-btn:hover { background: #0066ff; }
      .error-message { color:#ff4757; margin-top:10px; }
      .success-message { color:#22d685; margin-top:10px;}
      .admin-header .flex { align-items:center; }
      .admin-nav { display:flex; gap:20px; align-items:center; }
      .admin-nav a { color:#0066ff; text-decoration:none; font-weight:600;}
      .project-list { list-style: none; padding:0; margin:0; }
      .project-item { display: flex; gap:12px; align-items:center; margin-bottom:12px; border-bottom:1px solid #eee;}
      .project-title { flex:1; font-weight:600;}
      .project-actions button { margin-left:8px;}
      @media (max-width: 700px) { .login-card, .admin-container, .card { padding:18px 4vw; } }
      body.dark-mode .login-card, body.dark-mode .admin-container, body.dark-mode .card {
        background: #232234 !important; color: #ffd749 !important; box-shadow: 0 2px 18px rgba(0,0,0,0.21);}
    </style>
</head>
<body>
    <button id="dark-mode-toggle" aria-label="Toggle dark mode">ðŸŒ—</button>
    <div id="login-section" class="login-card">
        <h1>Admin Access</h1>
        <form id="login-form">
            <div class="form-group">
                <label for="github-token">GitHub Personal Access Token</label>
                <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx" required>
                <small>Need a token? <a href="https://github.com/settings/tokens" target="_blank">Generate one here</a></small>
            </div>
            <div class="form-group">
                <label for="repo-name">Repository (username/repo-name)</label>
                <input type="text" id="repo-name" placeholder="dakshithu/your-portfolio-repo" required>
            </div>
            <button type="submit" class="admin-btn">Connect to GitHub</button>
            <div id="login-error" class="error-message"></div>
        </form>
    </div>

    <!-- ADMIN PANEL WITH AVAILABILITY + PROJECTS -->
    <div id="admin-section" class="admin-container" style="display:none;">
        <header class="admin-header">
            <div class="flex space-between">
                <div>
                    <h1>Admin Panel</h1>
                    <div id="repo-info"></div>
                </div>
                <div class="admin-nav">
                    <a href="index.html" target="_blank">View Site</a>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
        </header>
        <main>
            <!-- Availability Editor -->
            <section class="card">
                <h2>Edit Availability</h2>
                <form id="availability-form">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="is-available"> Available for new projects
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="availability-time">Best time to reach:</label>
                        <input type="text" id="availability-time">
                    </div>
                    <div class="form-group">
                        <label for="response-time">Response time:</label>
                        <input type="text" id="response-time">
                    </div>
                    <button type="submit" class="admin-btn">Save Availability</button>
                    <div id="availability-message"></div>
                </form>
            </section>
            <!-- About Editor -->
            <section class="card">
                <h2>Edit About Description</h2>
                <form id="about-form">
                    <div class="form-group">
                        <textarea id="about-textarea" rows="5"></textarea>
                    </div>
                    <button type="submit" class="admin-btn">Save About</button>
                    <div id="about-message"></div>
                </form>
            </section>
            <!-- Projects Manager -->
            <section class="card">
                <h2>Manage Projects</h2>
                <ul id="projects-list" class="project-list"></ul>
                <hr>
                <form id="add-project-form">
                    <div class="form-group">
                        <label for="project-title">Project Title</label>
                        <input type="text" id="project-title" required>
                    </div>
                    <div class="form-group">
                        <label for="project-url">Project URL</label>
                        <input type="url" id="project-url" required>
                    </div>
                    <button type="submit" class="project-btn">Add Project</button>
                    <div id="projects-message"></div>
                </form>
            </section>
        </main>
    </div>
    <script src="admin.js"></script>
</body>
</html>
