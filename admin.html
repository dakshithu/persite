<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel | Dakshith Ullapaneni</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,600,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: 'Poppins', Arial, sans-serif; }
        .login-card, .admin-container {
            max-width: 500px; margin: 60px auto 0; padding: 40px 30px;
            background: #fff; border-radius: 16px; box-shadow: 0 6px 32px #0002;
        }
        .login-card h1 { font-weight:900; text-align:center; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display:block; font-weight:600; margin-bottom:8px; }
        .form-group input, .form-group textarea { 
            width:100%; padding:12px 16px; border-radius:8px; border:1.5px solid #ddd; 
            font-size:1rem; box-sizing:border-box;
        }
        .login-btn, .admin-btn, .project-btn, .logout-btn { 
            background: #22d685; color:#fff; font-weight:700; border:none; border-radius:8px; 
            padding:12px 24px; cursor:pointer; margin-top:8px; margin-right:8px;
            transition:background .2s; font-size:1rem;
        }
        .login-btn:hover, .admin-btn:hover, .project-btn:hover, .logout-btn:hover { background: #0066ff; }
        .error-message { color:#ff4757; margin-top:10px; font-weight:500; }
        .success-message { color:#22d685; margin-top:10px; font-weight:500; }
        .admin-header { margin-bottom:30px; border-bottom:2px solid #eee; padding-bottom:20px; }
        .admin-header .flex { align-items:center; }
        .admin-nav { display:flex; gap:20px; align-items:center; }
        .admin-nav a { color:#0066ff; text-decoration:none; font-weight:600; }
        .card { max-width: 700px; margin:30px auto; padding:30px; }
        .project-list { list-style: none; padding:0; margin:0; }
        .project-item { 
            border:1px solid #eee; border-radius:8px; padding:15px; margin-bottom:15px;
            display: flex; gap:15px; align-items:center; background:#f9f9f9;
        }
        .project-title { flex:1; font-weight:600; }
        .project-url { font-size:0.9rem; color:#666; }
        .project-actions { display:flex; gap:8px; }
        .loading { opacity:0.6; pointer-events:none; }
        .repo-info { background:#f0f8ff; padding:15px; border-radius:8px; margin-bottom:20px; }
        
        /* Dark mode styles */
        body.dark-mode .login-card, 
        body.dark-mode .admin-container, 
        body.dark-mode .card {
            background: #232234 !important;
            color: #e7e7fa !important;
            box-shadow: 0 2px 18px rgba(0,0,0,0.21);
        }
        body.dark-mode input, body.dark-mode textarea {
            background: #191a23 !important;
            color: #ffd749 !important;
            border-color: #ffd749 !important;
        }
        body.dark-mode .project-item {
            background: #191a23 !important;
            border-color: #ffd749 !important;
            color: #e7e7fa !important;
        }
        body.dark-mode .repo-info {
            background: #191a23 !important;
            color: #ffd749 !important;
        }
        body.dark-mode h1, body.dark-mode h2, body.dark-mode h3 {
            color: #ffd749 !important;
        }
    </style>
</head>
<body>
    <button id="dark-mode-toggle" aria-label="Toggle dark mode">üåó</button>
    
    <!-- Login Screen -->
    <div id="login-section" class="login-card">
        <h1>üîê Admin Access</h1>
        <form id="login-form">
            <div class="form-group">
                <label for="github-token">GitHub Personal Access Token</label>
                <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx" required>
                <small>Need a token? <a href="https://github.com/settings/tokens" target="_blank">Generate one here</a> with 'repo' permissions.</small>
            </div>
            <div class="form-group">
                <label for="repo-name">Repository (username/repo-name)</label>
                <input type="text" id="repo-name" placeholder="dakshithu/your-portfolio-repo" required>
            </div>
            <button type="submit" class="login-btn">Connect to GitHub</button>
            <div id="login-error" class="error-message"></div>
        </form>
    </div>

    <!-- Admin Panel -->
    <div id="admin-section" class="admin-container" style="display:none;">
        <header class="admin-header">
            <div class="flex space-between">
                <div>
                    <h1>‚ö° Admin Panel</h1>
                    <div id="repo-info" class="repo-info"></div>
                </div>
                <div class="admin-nav">
                    <a href="index.html" target="_blank">View Site</a>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
        </header>

        <main>
            <!-- About Description Editor -->
            <section class="card">
                <h2>‚úèÔ∏è Edit About Description</h2>
                <form id="about-form">
                    <div class="form-group">
                        <label for="about-textarea">About Me Description</label>
                        <textarea id="about-textarea" rows="5" placeholder="Loading..."></textarea>
                    </div>
                    <button type="submit" class="admin-btn">Save to GitHub</button>
                    <div id="about-message"></div>
                </form>
            </section>

            <!-- Availability Settings -->
            <section class="card">
                <h2>üìÖ Availability Settings</h2>
                <form id="availability-form">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="is-available"> Available for new projects
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="availability-time">Best time to reach me</label>
                        <input type="text" id="availability-time" placeholder="9 AM - 6 PM (GMT+4)">
                    </div>
                    <div class="form-group">
                        <label for="response-time">Response time</label>
                        <input type="text" id="response-time" placeholder="Usually within 24 hours">
                    </div>
                    <button type="submit" class="admin-btn">Save Availability</button>
                    <div id="availability-message"></div>
                </form>
            </section>

            <!-- Projects Manager -->
            <section class="card">
                <h2>üöÄ Manage Projects</h2>
                <div id="projects-container">
                    <ul id="projects-list" class="project-list"></ul>
                </div>
                
                <h3>Add New Project</h3>
                <form id="add-project-form">
                    <div class="form-group">
                        <label for="project-title">Project Title</label>
                        <input type="text" id="project-title" required>
                    </div>
                    <div class="form-group">
                        <label for="project-url">Project URL</label>
                        <input type="url" id="project-url" placeholder="https://..." required>
                    </div>
                    <button type="submit" class="project-btn">Add Project</button>
                </form>
                <div id="projects-message"></div>
            </section>
        </main>
    </div>

    <script src="admin.js"></script>
</body>
</html>
